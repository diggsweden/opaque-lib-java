# SPDX-FileCopyrightText: 2025 Digg - Agency for Digital Government
#
# SPDX-License-Identifier: CC0-1.0

---
name: OpenSSF Scorecard Analysis
on:
  schedule:
    # Saturdays at 01:40 UTC
    - cron: "40 1 * * 6"
    # Wednesdays at 01:40 UTC
    - cron: "40 1 * * 3"
  workflow_dispatch:

permissions:
 contents: read  # Best Security practice. Jobs only get read as base, and then permissions are added as needed

jobs:
  scorecard-analysis:
    permissions:
      contents: read
      security-events: write
      id-token: write
    uses: diggsweden/reusable-ci/.github/workflows/security-openssf-scorecard.yml@1a7dcd9c5257495ebf141e4e4b4bac438a8aae56 # v2.0.0
    with:
      publish-results: true